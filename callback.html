<!DOCTYPE html>

<html>
<head>
    <title>SVG Pie-Timer Pre-Loader in Javascript - Callback</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/jh.pieloader.js"></script>
    <script>
        function runTimer() {
            let s = parseInt(document.getElementById('howlong').value);
            if (isNaN(s)) {
                alert("Please select a time range from 10 - 60 seconds");
                return false;
            }
            if (s < 10 || s > 60) {
                alert("Please select a time range from 10 - 60 seconds");
                return false;
            }
            
            let n = document.getElementById('yourname').value;
            if (n.trim() == '') {
                alert("please enter your name");
                return false;
            }
            
            pieLoader.init(document.getElementById('target'),s,{},callBack,{name:n});
            
            return true;
        }
        function callBack(args) {
            document.getElementById('target').innerHTML = '';
            alert('Hello '+args.name+'. The timer has finished');
        }
    </script>
</head>

<body>
    <div class="clear">
        <div class="container">
            <div id="target"></div>
        </div>
        <div class="clear">
            <div>
                <label for="yourname">
                    Enter your name:
                    <input type="text" id="yourname" maxlength="35" />
                </label>
                <br />
                <label for="howlong">
                    How long should the timer run? ( 10 - 60 seconds)
                    <input type="text" id="howlong" />
                </label>
            </div>
            <div>
                <button type="button" onclick="window.runTimer()">Run Timer</button>
            </div>
        </div>
    </div>
    <div  class="clear">
        <ol>
            <li>
                <a href="index.html">Single Loader</a>
            </li>
            <li>
                <a href="multi.html">Multiple Loaders</a>
            </li>
            <li>
                <a href="callback.html">Loader With A Callback</a>
            </li>
        </ol>
    </div>
</body>
</html>